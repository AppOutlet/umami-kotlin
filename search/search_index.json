{"config":{"lang":["en"],"separator":"[\\s\\-]+","pipeline":["stopWordFilter"],"fields":{"title":{"boost":1000.0},"text":{"boost":1.0},"tags":{"boost":1000000.0}}},"docs":[{"location":"","title":"Overview","text":""},{"location":"#umami-kotlin","title":"Umami Kotlin","text":"<p>Welcome to the official documentation for <code>umami-kotlin</code>, a simple and powerful library for adding privacy-first analytics to your Kotlin applications.</p> <p>This open-source library makes it easy to interact with the excellent, privacy-focused Umami analytics platform. </p> <p>While born from the need for a unified solution in Kotlin Multiplatform, due its \"multiplatform\" aspect, Umami Kotlin is supported by the following platforms:</p> <ul> <li>\ud83c\udf0eKotlin Multiplatform (iOS, Android, Desktop, WebAssembly, etc.)</li> <li>\ud83e\udd16Android Applications </li> </ul>"},{"location":"#at-a-glance","title":"At a Glance","text":"<p>Adding analytics to your Kotlin project is simple. Here\u2019s a quick look:</p> <pre><code>// Add the dependency in your commonMain build.gradle.kts file\ncommonMain.dependencies {\n    implementation(\"dev.appoutlet:umami:LATEST_VERSION\")\n}\n\n// Initialize the Umami instance with your server URL and website ID\nval umami = Umami(\"your-website-uuid\")\n\n// Track a custom event\nfun whenSomethingHappens() {\n    umami.event(url = \"/screen/main\", name = \"app-launch\")\n}\n</code></pre>"},{"location":"#modular-by-design","title":"Modular by Design","text":"<p><code>umami-kotlin</code> is designed to be lightweight. To achieve this, the library is split into two main modules:</p> <ul> <li><code>:umami</code>: The core module. It contains everything you need for event tracking and client configuration. For most users, this is the only module you'll need.</li> <li><code>:umami-api</code>: An optional module that provides access to the rest of the Umami API, including Authentication, Users, and Websites.</li> </ul> <p>This separation ensures that if you only need to track events, you don't have to include the code for the other API functions, keeping your application lean.</p>"},{"location":"#which-one-should-you-use","title":"Which one should you use?","text":"<ul> <li>For event tracking only, depend on <code>dev.appoutlet:umami</code>.</li> <li>To also use Authentication, or manage Users and Websites, add a dependency on <code>dev.appoutlet:umami-api</code>.</li> </ul>"},{"location":"#core-philosophy","title":"Core Philosophy","text":"<ul> <li>\ud83d\udc8e Truly Multiplatform: Write your analytics code once and run it everywhere\u2014Android, iOS, Desktop, server-side (Ktor, SpringBoot, etc.), and any other Java or Kotlin/JVM project.</li> <li>\ud83d\ude80 Lightweight &amp; Simple: A clean, intuitive API. No complex setup, no boilerplate. Just simple function calls designed to get out of your way.</li> <li>\ud83d\udd12 Privacy-Focused: Integrate a powerful analytics tool without compromising your users' data or your principles.</li> </ul>"},{"location":"#ready-to-start","title":"Ready to Start?","text":"<p>Dive into our Get Started guide to add <code>umami-kotlin</code> to your project and track your first event in minutes. Or, if you want to see the source code, check out the project on GitHub.</p> <p>Get Started   View on GitHub </p> <p></p>"},{"location":"#a-project-by-appoutlet","title":"A Project by AppOutlet","text":"<p><code>umami-kotlin</code> is developed and maintained by AppOutlet. You can explore our other projects on our website.</p>"},{"location":"admin/","title":"Admin API","text":"<p>The <code>umami-kotlin</code> library provides a dedicated <code>Admin</code> API for performing administrative tasks within your Umami instance. This includes fetching paginated lists of users and websites with various filtering options.</p> <p>New to Umami Kotlin?</p> <p>Before using the Admin API, ensure you have initialized the <code>Umami</code> client. Refer to our getting started guides for Kotlin Multiplatform and Android for setup instructions.</p> <p>All functions within the <code>Admin</code> API are <code>suspend</code> functions, meaning they must be called from within a coroutine or another <code>suspend</code> function.</p>"},{"location":"admin/#obtaining-an-admin-instance","title":"Obtaining an Admin Instance","text":"<p>You can access the <code>Admin</code> API functionalities through an extension function on your <code>Umami</code> client instance:</p> <pre><code>// Assuming 'umami' is an initialized Umami client\nval adminApi = umami.admin()\n</code></pre>"},{"location":"admin/#retrieving-users","title":"Retrieving Users","text":"<p>The <code>getUsers</code> function allows you to retrieve a paginated list of registered users.</p>"},{"location":"admin/#function-signature","title":"Function Signature","text":"<pre><code>suspend fun getUsers(\n    search: String? = null,\n    page: Int? = null,\n    pageSize: Int? = null,\n): SearchResponse&lt;User&gt;\n</code></pre>"},{"location":"admin/#parameters","title":"Parameters","text":"<ul> <li><code>search</code> (Optional <code>String</code>): A search string to filter users by their username or other relevant fields.</li> <li><code>page</code> (Optional <code>Int</code>): The page number of the results to retrieve. Useful for pagination.</li> <li><code>pageSize</code> (Optional <code>Int</code>): The maximum number of user records to return per page.</li> </ul>"},{"location":"admin/#return-type","title":"Return Type","text":"<p>Returns a <code>SearchResponse&lt;User&gt;</code> object, which encapsulates the list of <code>User</code> objects for the current page, along with pagination metadata.</p>"},{"location":"admin/#example-usage","title":"Example Usage","text":"<pre><code>import dev.appoutlet.umami.domain.User\nimport dev.appoutlet.umami.domain.SearchResponse\n\n// Assuming 'adminApi' is an instance of Admin\nsuspend fun fetchUsers() {\n    try {\n        // Fetch all users\n        val allUsers: SearchResponse&lt;User&gt; = adminApi.getUsers()\n        println(\"Total users: ${allUsers.count}\")\n        allUsers.data.forEach { user -&gt;\n            println(\"User ID: ${user.id}, Username: ${user.username}, Role: ${user.role}\")\n        }\n\n        // Fetch users matching a search term on page 2 with 10 items per page\n        val filteredUsers: SearchResponse&lt;User&gt; = adminApi.getUsers(\n            search = \"admin\",\n            page = 2,\n            pageSize = 10\n        )\n        println(\"Filtered users on page 2: ${filteredUsers.data.size}\")\n\n    } catch (e: Exception) {\n        println(\"Error fetching users: ${e.message}\")\n    }\n}\n</code></pre>"},{"location":"admin/#retrieving-websites","title":"Retrieving Websites","text":"<p>The <code>getWebsites</code> function enables you to retrieve a paginated list of registered websites.</p>"},{"location":"admin/#function-signature_1","title":"Function Signature","text":"<pre><code>suspend fun getWebsites(\n    search: String? = null,\n    page: Int? = null,\n    pageSize: Int? = null,\n): SearchResponse&lt;Website&gt;\n</code></pre>"},{"location":"admin/#parameters_1","title":"Parameters","text":"<ul> <li><code>search</code> (Optional <code>String</code>): A search string to filter websites by their name, domain, or other relevant fields.</li> <li><code>page</code> (Optional <code>Int</code>): The page number of the results to retrieve. Useful for pagination.</li> <li><code>pageSize</code> (Optional <code>Int</code>): The maximum number of website records to return per page.</li> </ul>"},{"location":"admin/#return-type_1","title":"Return Type","text":"<p>Returns a <code>SearchResponse&lt;Website&gt;</code> object, which encapsulates the list of <code>Website</code> objects for the current page, along with pagination metadata.</p>"},{"location":"admin/#example-usage_1","title":"Example Usage","text":"<pre><code>import dev.appoutlet.umami.domain.Website\nimport dev.appoutlet.umami.domain.SearchResponse\n\n// Assuming 'adminApi' is an instance of Admin\nsuspend fun fetchWebsites() {\n    try {\n        // Fetch all websites\n        val allWebsites: SearchResponse&lt;Website&gt; = adminApi.getWebsites()\n        println(\"Total websites: ${allWebsites.count}\")\n        allWebsites.data.forEach { website -&gt;\n            println(\"Website ID: ${website.id}, Name: ${website.name}, Domain: ${website.domain}\")\n        }\n\n        // Fetch websites matching a search term on page 1 with 5 items per page\n        val filteredWebsites: SearchResponse&lt;Website&gt; = adminApi.getWebsites(\n            search = \"myblog\",\n            page = 1,\n            pageSize = 5\n        )\n        println(\"Filtered websites on page 1: ${filteredWebsites.data.size}\")\n\n    } catch (e: Exception) {\n        println(\"Error fetching websites: ${e.message}\")\n    }\n}\n</code></pre>"},{"location":"admin/#retrieving-teams","title":"Retrieving Teams","text":"<p>The <code>getTeams</code> function enables you to retrieve a paginated list of registered teams.</p>"},{"location":"admin/#function-signature_2","title":"Function Signature","text":"<pre><code>suspend fun getTeams(\n    search: String? = null,\n    page: Int? = null,\n    pageSize: Int? = null,\n): SearchResponse&lt;Team&gt;\n</code></pre>"},{"location":"admin/#parameters_2","title":"Parameters","text":"<ul> <li><code>search</code> (Optional <code>String</code>): A search string to filter teams by their name or other relevant fields.</li> <li><code>page</code> (Optional <code>Int</code>): The page number of the results to retrieve. Useful for pagination.</li> <li><code>pageSize</code> (Optional <code>Int</code>): The maximum number of team records to return per page.</li> </ul>"},{"location":"admin/#return-type_2","title":"Return Type","text":"<p>Returns a <code>SearchResponse&lt;Team&gt;</code> object, which encapsulates the list of <code>Team</code> objects for the current page, along with pagination metadata.</p>"},{"location":"admin/#example-usage_2","title":"Example Usage","text":"<pre><code>import dev.appoutlet.umami.domain.Team\nimport dev.appoutlet.umami.domain.SearchResponse\n\n// Assuming 'adminApi' is an instance of Admin\nsuspend fun fetchTeams() {\n    try {\n        // Fetch all teams\n        val allTeams: SearchResponse&lt;Team&gt; = adminApi.getTeams()\n        println(\"Total teams: ${allTeams.count}\")\n        allTeams.data.forEach { team -&gt;\n            println(\"Team ID: ${team.id}, Name: ${team.name}\")\n        }\n\n        // Fetch teams matching a search term on page 1 with 5 items per page\n        val filteredTeams: SearchResponse&lt;Team&gt; = adminApi.getTeams(\n            search = \"developers\",\n            page = 1,\n            pageSize = 5\n        )\n        println(\"Filtered teams on page 1: ${filteredTeams.data.size}\")\n\n    } catch (e: Exception) {\n        println(\"Error fetching teams: ${e.message}\")\n    }\n}\n</code></pre>"},{"location":"admin/#understanding-searchresponset","title":"Understanding <code>SearchResponse&lt;T&gt;</code>","text":"<p>The <code>getUsers</code>, <code>getWebsites</code>, and <code>getTeams</code> functions all return a <code>SearchResponse&lt;T&gt;</code>, which is a generic data class designed to handle paginated API results.</p> <p>It contains the following properties:</p> <ul> <li><code>data: List&lt;T&gt;</code>: A list of the actual items (e.g., <code>User</code> or <code>Website</code> objects) for the current page.</li> <li><code>count: Long</code>: The total number of items found across all pages matching the search criteria.</li> <li><code>page: Int</code>: The current page number (0-indexed).</li> <li><code>pageSize: Int</code>: The number of items requested per page.</li> <li><code>orderBy: String?</code>: An optional string indicating the field by which the results are sorted.</li> </ul>"},{"location":"auth/","title":"Authentication","text":"<p>The <code>umami-kotlin</code> library provides a straightforward way to handle authentication with your Umami instance. This guide will walk you through the process of logging in, logging out, and verifying the authentication status.</p> <p>New to Umami Kotlin?</p> <p>Before proceeding, make sure you have initialized the <code>Umami</code> client. Check out our getting started guides for Kotlin Multiplatform and Android.</p> <p>All authentication functions in this library are <code>suspend</code> functions. This means they must be called from within a coroutine or another <code>suspend</code> function.</p>"},{"location":"auth/#obtaining-an-auth-instance","title":"Obtaining an Auth Instance","text":"<p>You can access the <code>Auth</code> API functionalities through an extension function on your <code>Umami</code> client instance:</p> <pre><code>// Assuming 'umami' is an initialized Umami client\nval authApi = umami.auth()\n</code></pre>"},{"location":"auth/#logging-in","title":"Logging In","text":"<p>There are two primary ways to log in using the library: by providing a username and password directly, or by using an <code>Auth.Login.Request</code> object.</p>"},{"location":"auth/#using-username-and-password","title":"Using Username and Password","text":"<p>The most common way to log in is by calling the <code>login</code> suspend function with the user's credentials.</p> <p>Example: <pre><code>// Assuming 'authApi' is an instance of Auth\nval loginResponse = authApi.login(\"my-username\", \"my-password\")\n\nprintln(\"Login successful! Token: ${loginResponse.token}\")\n</code></pre></p> <p>Token Storage</p> <p>Upon a successful login, the <code>login</code> function automatically stores the authentication token in memory for the lifetime of the <code>Umami</code> object. It is not persisted to a database or any other storage, so the token will be lost if the application is restarted or the <code>Umami</code> instance is recreated.</p>"},{"location":"auth/#using-a-request-object","title":"Using a Request Object","text":"<p>You can also create an <code>Auth.Login.Request</code> object and pass it to the <code>login</code> suspend function.</p> <p>Example: <pre><code>import dev.appoutlet.umami.api.Auth // Import Auth class to access Login inner interface\n\n// Assuming 'authApi' is an instance of Auth\nval loginRequest = Auth.Login.Request(\n    username = \"my-username\",\n    password = \"my-password\"\n)\n\nval loginResponse = authApi.login(loginRequest)\nprintln(\"Login successful!\")\n</code></pre></p>"},{"location":"auth/#login-response","title":"Login Response","text":"<p>A successful login returns an <code>Auth.Login.Response</code> object, which contains the authentication <code>token</code> and the <code>user</code> object.</p> <ul> <li><code>token</code>: A JWT token used for authenticating subsequent requests.</li> <li><code>user</code>: A <code>User</code> object containing details about the logged-in user, such as their ID and username.</li> </ul>"},{"location":"auth/#logging-out","title":"Logging Out","text":"<p>To log out, simply call the <code>logout</code> suspend function on the <code>Auth</code> instance. This will invalidate the session on the server and remove the locally stored authentication token.</p> <p>Example: <pre><code>// Assuming 'authApi' is an initialized and logged-in Auth instance\nauthApi.logout()\n\nprintln(\"Logout successful!\")\n</code></pre></p>"},{"location":"auth/#verifying-authentication","title":"Verifying Authentication","text":"<p>You can verify the current authentication status at any point by calling the <code>verify</code> suspend function on the <code>Auth</code> instance. This is useful for checking if the current token is still valid.</p> <p>If the authentication is valid, the <code>verify</code> function will return a <code>User</code> object. If the token is invalid or expired, it will throw a <code>ClientRequestException</code>.</p> <p>Example: <pre><code>import io.ktor.client.features.ClientRequestException\n\n// Assuming 'authApi' is an initialized Auth instance\nsuspend fun checkAuthentication() {\n    try {\n        val user = authApi.verify()\n        println(\"Authentication is valid. User: ${user.username}\")\n    } catch (e: ClientRequestException) {\n        println(\"Authentication is invalid or expired: ${e.message}\")\n    } catch (e: Exception) {\n        println(\"An error occurred during verification: ${e.message}\")\n    }\n}\n</code></pre></p>"},{"location":"event-tracking/","title":"Event tracking","text":"<p>Once you have configured the <code>Umami</code> client, you can begin tracking user interactions. <code>umami-kotlin</code> provides a straightforward API for sending analytics data to your Umami instance asynchronously, ensuring that tracking calls never block your application's main thread.</p> <p>If you haven't already, please refer to the Get Started guide to set up the <code>Umami</code> client in your project.</p> <p>The library offers two primary functions for this purpose:</p> <ul> <li><code>event()</code>: Used to track page views and custom events. This will be your most commonly used function.</li> <li><code>identify()</code>: Used to send specific data to identify a user and create a new session. (optional)</li> </ul> <p>Info</p> <p>Both <code>event()</code> and <code>identify()</code> are regular (non-suspend) functions. They queue work internally and return immediately without blocking.</p>"},{"location":"event-tracking/#tracking-page-views-and-custom-events","title":"Tracking Page Views and Custom Events","text":"<p>The <code>event()</code> function is the universal method for sending most tracking data. You can use it to record a simple page view, a specific user interaction (like a button click), or both at the same time.</p> <pre><code>fun event(\n    referrer: String? = null,\n    title: String? = null,\n    url: String? = null,\n    name: String? = null,\n    data: Map&lt;String, Any&gt;? = null,\n    tag: String? = null,\n    timestamp: Long = now(),\n    id: String? = null\n)\n</code></pre>"},{"location":"event-tracking/#parameters","title":"Parameters","text":"<ul> <li><code>referrer</code> (String): The URL of the page that referred the user to the current page.</li> <li><code>title</code> (String): The title of the page being viewed.</li> <li><code>url</code> (String): The URL of the page. This is the primary field for tracking a page view.</li> <li><code>name</code> (String): The name of the custom event. This is the primary field for tracking a custom event.</li> <li><code>data</code> (Map): A map of additional, custom data to associate with the event.</li> <li><code>tag</code> (String): A tag to categorize the event.</li> <li><code>timestamp</code> (Long): The timestamp of when the event occurred, in seconds since the epoch. Defaults to the current time.</li> <li><code>id</code> (String): A unique identifier for the event.</li> </ul> <p>Info</p> <p>Please refer to the full event method specification for more details.</p>"},{"location":"event-tracking/#usage-examples","title":"Usage Examples","text":"<p>1. Tracking a Page View To track a page view, provide a <code>url</code> and an optional <code>title</code>.</p> <pre><code>// Track a user navigating to the \"Settings\" screen\numami.event(url = \"/settings\", title = \"User Settings\")\n</code></pre> <p>2. Tracking a Custom Event To track a specific interaction, like a user clicking a button, provide a <code>name</code>. You can also include custom <code>data</code> for more context.</p> <pre><code>// Track a user completing a purchase\numami.event(\n    name = \"purchase-completed\",\n    data = mapOf(\n        \"plan\" to \"premium\",\n        \"price\" to 49.99\n    )\n)\n</code></pre>"},{"location":"event-tracking/#identifying-a-user","title":"Identifying a User","text":"<p>The <code>identify()</code> function is a specialized method used to associate custom data with the current user's session. This is useful for enriching your analytics with session-specific information.</p> <pre><code>fun identify(\n    data: Map&lt;String, Any&gt;,\n    timestamp: Long = now(),\n    id: String? = null\n)\n</code></pre>"},{"location":"event-tracking/#parameters_1","title":"Parameters","text":"<ul> <li><code>data</code> (Map): The map of custom data you want to associate with the user's session.</li> <li><code>timestamp</code> (Long): The timestamp of when the identification occurred. Defaults to the current time.</li> <li><code>id</code> (String): A unique identifier for the event.</li> </ul> <p>Info</p> <p>Please refer to the full identify method specification for more details.</p>"},{"location":"event-tracking/#usage-example","title":"Usage Example","text":"<pre><code>// Identify the user with their account type after they log in\numami.identify(data = mapOf(\"account_type\" to \"pro_user\"))\n</code></pre>"},{"location":"event-tracking/#asynchronous-processing","title":"Asynchronous Processing","text":"<p>It's important to understand that all event tracking in <code>umami-kotlin</code> is handled asynchronously. When you call <code>event()</code> or <code>identify()</code>, the payload is not sent to the network immediately on the calling thread.</p> <p>Instead, the event is placed into an internal queue (a Kotlin <code>Channel</code>). A dedicated background process consumes items from this queue one by one and sends them to the Umami server.</p> <p>This design ensures that your analytics calls are non-blocking and have a minimal performance impact on your application, which is especially critical for maintaining a responsive UI on the main thread.</p>"},{"location":"event-tracking/#a-note-on-future-updates","title":"A Note on Future Updates","text":"<p>Currently, events are processed sequentially. Batch processing of events (sending multiple events in a single network request) is a planned future enhancement to further improve network efficiency.</p>"},{"location":"links/","title":"Links API","text":"<p>The <code>umami-kotlin</code> library provides a <code>Links</code> API for managing links within your Umami instance.</p> <p>New to Umami Kotlin?</p> <p>Before using the Links API, ensure you have initialized the <code>Umami</code> client. Refer to our getting started guides for Kotlin Multiplatform and Android for setup instructions.</p> <p>All functions within the <code>Links</code> API are <code>suspend</code> functions, meaning they must be called from within a coroutine or another <code>suspend</code> function.</p>"},{"location":"links/#obtaining-a-links-instance","title":"Obtaining a Links Instance","text":"<p>You can access the <code>Links</code> API functionalities through an extension function on your <code>Umami</code> client instance:</p> <pre><code>// Assuming 'umami' is an initialized Umami client\nval linksApi = umami.links()\n</code></pre>"},{"location":"links/#retrieving-links","title":"Retrieving Links","text":"<p>The <code>getLinks</code> function allows you to retrieve a paginated list of links.</p>"},{"location":"links/#function-signature","title":"Function Signature","text":"<pre><code>suspend fun getLinks(\n    search: String? = null,\n    page: Int? = null,\n    pageSize: Int? = null,\n): SearchResponse&lt;Link&gt;\n</code></pre>"},{"location":"links/#parameters","title":"Parameters","text":"<ul> <li><code>search</code> (Optional <code>String</code>): A search string to filter links by.</li> <li><code>page</code> (Optional <code>Int</code>): The page number of the results to retrieve. Useful for pagination.</li> <li><code>pageSize</code> (Optional <code>Int</code>): The maximum number of link records to return per page.</li> </ul>"},{"location":"links/#return-type","title":"Return Type","text":"<p>Returns a <code>SearchResponse&lt;Link&gt;</code> object, which encapsulates the list of <code>Link</code> objects for the current page, along with pagination metadata.</p>"},{"location":"links/#example-usage","title":"Example Usage","text":"<pre><code>import dev.appoutlet.umami.domain.Link\nimport dev.appoutlet.umami.domain.SearchResponse\n\n// Assuming 'linksApi' is an instance of Links\nsuspend fun fetchLinks() {\n    try {\n        // Fetch all links\n        val allLinks: SearchResponse&lt;Link&gt; = linksApi.getLinks()\n        println(\"Total links: ${allLinks.count}\")\n        allLinks.data.forEach { link -&gt;\n            println(\"Link ID: ${link.id}, Name: ${link.name}, URL: ${link.url}\")\n        }\n\n        // Fetch links matching a search term on page 1 with 5 items per page\n        val filteredLinks: SearchResponse&lt;Link&gt; = linksApi.getLinks(\n            search = \"newsletter\",\n            page = 1,\n            pageSize = 5\n        )\n        println(\"Filtered links on page 1: ${filteredLinks.data.size}\")\n\n    } catch (e: Exception) {\n        println(\"Error fetching links: ${e.message}\")\n    }\n}\n</code></pre>"},{"location":"links/#retrieving-a-single-link","title":"Retrieving a Single Link","text":"<p>The <code>getLink</code> function allows you to retrieve a specific link by its ID.</p>"},{"location":"links/#function-signature_1","title":"Function Signature","text":"<pre><code>suspend fun getLink(linkId: String): Link\n</code></pre>"},{"location":"links/#parameters_1","title":"Parameters","text":"<ul> <li><code>linkId</code> (<code>String</code>): The unique identifier of the link to retrieve.</li> </ul>"},{"location":"links/#return-type_1","title":"Return Type","text":"<p>Returns a <code>Link</code> object corresponding to the provided ID.</p>"},{"location":"links/#example-usage_1","title":"Example Usage","text":"<pre><code>import dev.appoutlet.umami.domain.Link\n\n// Assuming 'linksApi' is an instance of Links\nsuspend fun fetchLinkById(id: String) {\n    try {\n        val link: Link = linksApi.getLink(id)\n        println(\"Retrieved link: ${link.name} (${link.url})\")\n    } catch (e: Exception) {\n        println(\"Error fetching link: ${e.message}\")\n    }\n}\n</code></pre>"},{"location":"links/#creating-a-link","title":"Creating a Link","text":"<p>The <code>createLink</code> function allows you to create a new link.</p>"},{"location":"links/#function-signature_2","title":"Function Signature","text":"<pre><code>suspend fun createLink(\n    name: String,\n    url: String,\n    slug: String,\n): Link\n</code></pre>"},{"location":"links/#parameters_2","title":"Parameters","text":"<ul> <li><code>name</code> (<code>String</code>): The name for the link.</li> <li><code>url</code> (<code>String</code>): The destination URL for the link.</li> <li><code>slug</code> (<code>String</code>): The slug for the link (minimum 8 characters).</li> </ul>"},{"location":"links/#return-type_2","title":"Return Type","text":"<p>Returns the created <code>Link</code> object.</p>"},{"location":"links/#example-usage_2","title":"Example Usage","text":"<pre><code>import dev.appoutlet.umami.domain.Link\n\n// Assuming 'linksApi' is an instance of Links\nsuspend fun createNewLink() {\n    try {\n        val newLink: Link = linksApi.createLink(\n            name = \"My New Link\",\n            url = \"https://example.com/new-link\",\n            slug = \"my-new-link-slug\"\n        )\n        println(\"Created link: ${newLink.name} (${newLink.url})\")\n    } catch (e: Exception) {\n        println(\"Error creating link: ${e.message}\")\n    }\n}\n</code></pre>"},{"location":"links/#updating-a-link","title":"Updating a Link","text":"<p>The <code>updateLink</code> function allows you to update the properties of an existing link.</p>"},{"location":"links/#function-signature_3","title":"Function Signature","text":"<pre><code>suspend fun updateLink(\n    linkId: String,\n    name: String? = null,\n    url: String? = null,\n    slug: String? = null,\n): Link\n</code></pre>"},{"location":"links/#parameters_3","title":"Parameters","text":"<ul> <li><code>linkId</code> (<code>String</code>): The unique identifier of the link to update.</li> <li><code>name</code> (Optional <code>String</code>): The new name for the link.</li> <li><code>url</code> (Optional <code>String</code>): The new destination URL for the link.</li> <li><code>slug</code> (Optional <code>String</code>): The new slug for the link (minimum 8 characters).</li> </ul>"},{"location":"links/#return-type_3","title":"Return Type","text":"<p>Returns the updated <code>Link</code> object.</p>"},{"location":"links/#example-usage_3","title":"Example Usage","text":"<pre><code>import dev.appoutlet.umami.domain.Link\n\n// Assuming 'linksApi' is an instance of Links\nsuspend fun updateLinkDetails(id: String) {\n    try {\n        val updatedLink: Link = linksApi.updateLink(\n            linkId = id,\n            name = \"Updated Link Name\",\n            url = \"https://example.com/new-path\",\n            slug = \"new-awesome-slug\"\n        )\n        println(\"Updated link: ${updatedLink.name} (${updatedLink.url})\")\n    } catch (e: Exception) {\n        println(\"Error updating link: ${e.message}\")\n    }\n}\n</code></pre>"},{"location":"links/#deleting-a-link","title":"Deleting a Link","text":"<p>The <code>deleteLink</code> function allows you to delete a link.</p>"},{"location":"links/#function-signature_4","title":"Function Signature","text":"<pre><code>suspend fun deleteLink(linkId: String)\n</code></pre>"},{"location":"links/#parameters_4","title":"Parameters","text":"<ul> <li><code>linkId</code> (<code>String</code>): The unique identifier of the link to delete.</li> </ul>"},{"location":"links/#example-usage_4","title":"Example Usage","text":"<pre><code>// Assuming 'linksApi' is an instance of Links\nsuspend fun deleteLinkById(id: String) {\n    try {\n        linksApi.deleteLink(id)\n        println(\"Link deleted successfully\")\n    } catch (e: Exception) {\n        println(\"Error deleting link: ${e.message}\")\n    }\n}\n</code></pre>"},{"location":"me/","title":"Authenticated user","text":"<p>The Authenticated user API provides a convenient way to access information about the currently authenticated user. You can retrieve session details, a list of associated websites, and a list of teams.</p>"},{"location":"me/#accessing-the-authenticated-user-api","title":"Accessing the Authenticated user API","text":"<p>Note: All methods in this API require authentication. You must log in using the <code>umami.auth().login()</code> method before calling any of these functions. For more details, see the Authentication documentation.</p> <p>You can access all functionalities through the <code>umami.me()</code> extension function:</p> <pre><code>val umami = Umami(\n    website = \"your-website-uuid\"\n) {\n    baseUrl = \"https://your-umami-instance.com\"\n}\n\n// Access the Me API\nval meApi = umami.me()\n</code></pre>"},{"location":"me/#get-session-information","title":"Get Session Information","text":"<p>To retrieve details about the current session, including user information, use the <code>getSession()</code> method.</p>"},{"location":"me/#usage","title":"Usage","text":"<pre><code>val session = umami.me().getSession()\nprintln(\"Authenticated as: ${session.user.username}\")\n</code></pre>"},{"location":"me/#get-websites","title":"Get Websites","text":"<p>To retrieve a list of websites associated with the current user, use the <code>getWebsites()</code> method. You can optionally include websites from teams where the user is a member.</p>"},{"location":"me/#usage_1","title":"Usage","text":"<pre><code>// Get only personal websites\nval personalWebsites = umami.me().getWebsites()\n\n// Include websites from teams\nval allWebsites = umami.me().getWebsites(includeTeams = true)\n\nprintln(\"Found ${allWebsites.data.size} websites.\")\n</code></pre>"},{"location":"me/#get-teams","title":"Get Teams","text":"<p>To retrieve a list of teams the current user belongs to, use the <code>getTeams()</code> method.</p>"},{"location":"me/#usage_2","title":"Usage","text":"<pre><code>val teams = umami.me().getTeams()\nprintln(\"User is a member of ${teams.data.size} teams.\")\n</code></pre>"},{"location":"pixels/","title":"Pixels","text":"<p>The <code>pixels()</code> method provides access to the pixels API endpoints.</p>"},{"location":"pixels/#get-all-pixels","title":"Get all pixels","text":"<p>This method returns a list of all pixels available to the user.</p> <pre><code>val pixels = umami.pixels().getPixels()\n</code></pre>"},{"location":"pixels/#parameters","title":"Parameters","text":"<ul> <li><code>search</code> (optional): A search string to filter the results.</li> <li><code>page</code> (optional): The page number to return.</li> <li><code>pageSize</code> (optional): The number of results to return per page.</li> </ul>"},{"location":"pixels/#get-a-pixel-by-id","title":"Get a pixel by ID","text":"<p>This method returns the details of a specific pixel.</p> <pre><code>val pixel = umami.pixels().getPixel(\"pixel-id\")\n</code></pre>"},{"location":"pixels/#update-a-pixel","title":"Update a pixel","text":"<p>This method updates the details of a specific pixel.</p> <pre><code>val pixel = umami.pixels().updatePixel(\n    pixelId = \"pixel-id\",\n    request = UpdatePixelRequest(\n        name = \"New Pixel Name\",\n        slug = \"new-pixel-slug\"\n    )\n)\n</code></pre>"},{"location":"pixels/#delete-a-pixel","title":"Delete a pixel","text":"<p>This method deletes a specific pixel.</p> <pre><code>umami.pixels().deletePixel(\"pixel-id\")\n</code></pre>"},{"location":"release-notes/","title":"Release notes","text":""},{"location":"release-notes/#031","title":"0.3.1","text":"<p>This release introduces a custom headers provider for the HTTP client and adds the ability to fetch all users via the Admin API, alongside documentation and dependency updates.</p> <p>\u2728 What's New</p> <ul> <li>Custom Headers Provider: Implemented a new in-memory, thread-safe headers store to simplify client setup.</li> <li>Admin API: Added functionality to fetch all users (get-admin-users), including accompanying documentation and tests.</li> </ul> <p>\u26a1 Improvements</p> <ul> <li>Dependency Updates: Bumped Ktor client to 3.3.3, Mokkery to 3.0.0, and Kotest assertions to 6.0.7.</li> <li>Build and CI: Minor adjustments including cancelling parallel runs in coverage workflow and tweaks to qlty configuration.</li> <li>Migration: If you previously relied on PersistentHeaders, migrate to the new in-memory headers provider (the API has been simplified and is thread-safe).</li> </ul> <p>\ud83d\udcda Documentation &amp; Other Updates</p> <ul> <li>Release Notes: Improved template and titles.</li> <li>Navigation: Added mkdocs-literate-nav plugin and updated navigation.</li> <li>KDoc: Various updates across modules.</li> </ul> <p>\ud83d\udcd6 Full Changelog Link to full changelog</p>"},{"location":"release-notes/#030","title":"0.3.0","text":"<p>This release introduces a new authentication API and includes various dependency and workflow improvements to enhance stability and development experience.</p> <p>\u2728 What's New</p> <ul> <li>Authentication API: Added a new authentication API to securely manage user sessions.</li> </ul> <p>\u26a1 Improvements</p> <ul> <li>Dependency Updates: Updated several core dependencies including Ktor and Compose for improved performance and stability.</li> <li>Development Workflow Enhancements: Upgraded various GitHub Actions for Java, Python, and checkout processes, streamlining our continuous integration.</li> </ul> <p>\ud83d\udcda Documentation &amp; Other Updates</p> <ul> <li>Adjusted internal documentation logic for better clarity and maintenance.</li> <li>Updated the AGENTS.md guide to reflect recent feedback, improving guidance for AI agents.</li> </ul> <p>\ud83d\udcd6 Full Changelog Link to full changelog</p>"},{"location":"roadmap/","title":"Roadmap","text":"<p>This document outlines the current development status and future plans for the Umami API, following the structure of the official API documentation. It is intended for developers who are using or contributing to this library.</p>"},{"location":"roadmap/#core","title":"Core","text":"<ul> <li> Send tracking event data - <code>POST /api/send</code></li> </ul>"},{"location":"roadmap/#authentication","title":"Authentication","text":"<ul> <li> Login to receive an authentication token - <code>POST /api/auth/login</code></li> <li> Verify an authentication token - <code>POST /api/auth/verify</code></li> <li> Logout and invalidate the current token - <code>POST /api/auth/logout</code></li> </ul>"},{"location":"roadmap/#admin","title":"Admin","text":"<p>These endpoints are only available for admin users on self-hosted instances.</p> <ul> <li> Returns all users in the system - <code>GET /api/admin/users</code></li> <li> Returns all websites in the system - <code>GET /api/admin/websites</code></li> <li> Returns all teams in the system - <code>GET /api/admin/teams</code></li> </ul>"},{"location":"roadmap/#events","title":"Events","text":"<ul> <li> Returns a list of events for a website - <code>GET /api/websites/:websiteId/events</code></li> <li> Returns detailed event data for a website - <code>GET /api/websites/:websiteId/event-data/events</code></li> <li> Returns all available fields for event data - <code>GET /api/websites/:websiteId/event-data/fields</code></li> <li> Returns all available values for a given event data field - <code>GET /api/websites/:websiteId/event-data/values</code></li> <li> Returns statistics for a given event data field - <code>GET /api/websites/:websiteId/event-data/stats</code></li> <li> Returns all available properties for event data - <code>GET /api/websites/:websiteId/event-data/properties</code></li> <li> Accesses data for a specific event - <code>GET /api/websites/:websiteId/event-data/:eventId</code></li> </ul>"},{"location":"roadmap/#websites","title":"Websites","text":"<ul> <li> Returns a list of all websites available to the user - <code>GET /api/websites</code></li> <li> Creates a new website - <code>POST /api/websites</code></li> <li> Returns the details of a specific website - <code>GET /api/websites/:websiteId</code></li> <li> Updates the details of a specific website - <code>POST /api/websites/:websiteId</code></li> <li> Deletes a website - <code>DELETE /api/websites/:websiteId</code></li> <li> Resets all data for a website - <code>POST /api/websites/:websiteId/reset</code></li> </ul>"},{"location":"roadmap/#website-statistics","title":"Website Statistics","text":"<ul> <li> Returns the number of active visitors on a website - <code>GET /api/websites/:websiteId/active</code></li> <li> Returns pageview data for a website - <code>GET /api/websites/:websiteId/pageviews</code></li> <li> Returns summary statistics for a website - <code>GET /api/websites/:websiteId/stats</code></li> <li> Returns detailed metrics for a website over a date range - <code>GET /api/websites/:websiteId/metrics</code></li> </ul>"},{"location":"roadmap/#sessions","title":"Sessions","text":"<ul> <li> Returns a list of sessions for a website - <code>GET /api/websites/:websiteId/sessions</code></li> <li> Returns statistics for sessions on a website - <code>GET /api/websites/:websiteId/sessions/stats</code></li> <li> Returns details for a specific session - <code>GET /api/websites/:websiteId/sessions/:sessionId</code></li> <li> Returns the activity log for a specific session - <code>GET /api/websites/:websiteId/sessions/:sessionId/activity</code></li> <li> Returns all properties for a specific session - <code>GET /api/websites/:websiteId/sessions/:sessionId/properties</code></li> <li> Returns all available properties for session data - <code>GET /api/websites/:websiteId/session-data/properties</code></li> <li> Returns all available values for a given session data property - <code>GET /api/websites/:websiteId/session-data/values</code></li> </ul>"},{"location":"roadmap/#users","title":"Users","text":"<ul> <li> Returns the details of a specific user - <code>GET /api/users/:userId</code></li> <li> Updates the details of a specific user - <code>POST /api/users/:userId</code></li> <li> Deletes a user - <code>DELETE /api/users/:userId</code></li> <li> Returns a list of websites for a user - <code>GET /api/users/:userId/websites</code></li> <li> Returns a list of teams for a user - <code>GET /api/users/:userId/teams</code></li> </ul>"},{"location":"roadmap/#teams","title":"Teams","text":"<ul> <li> Creates a new team - <code>POST /api/teams</code></li> <li> Joins an existing team using an access code - <code>POST /api/teams/join</code></li> <li> Returns the details of a specific team - <code>GET /api/teams/:teamId</code></li> <li> Updates the details of a specific team - <code>POST /api/teams/:teamId</code></li> <li> Deletes a team - <code>DELETE /api/teams/:teamId</code></li> </ul>"},{"location":"roadmap/#team-members","title":"Team Members","text":"<ul> <li> Returns a list of users in a team - <code>GET /api/teams/:teamId/users</code></li> <li> Adds a user to a team - <code>POST /api/teams/:teamId/users</code></li> <li> Returns details for a specific user in a team - <code>GET /api/teams/:teamId/users/:userId</code></li> <li> Updates the role of a user in a team - <code>POST /api/teams/:teamId/users/:userId</code></li> <li> Removes a user from a team - <code>DELETE /api/teams/:teamId/users/:userId</code></li> </ul>"},{"location":"roadmap/#team-websites","title":"Team Websites","text":"<ul> <li> Returns a list of websites in a team - <code>GET /api/teams/:teamId/websites</code></li> <li> Creates a website for a team - <code>POST /api/teams/:teamId/websites</code></li> <li> Removes a website from a team - <code>DELETE /api/teams/:teamId/websites/:websiteId</code></li> </ul>"},{"location":"roadmap/#links","title":"Links","text":"<ul> <li> Returns a list of all links - <code>GET /api/links</code></li> <li> Creates a new link - <code>POST /api/links</code></li> <li> Returns the details of a specific link - <code>GET /api/links/:linkId</code></li> <li> Updates the details of a specific link - <code>POST /api/links/:linkId</code></li> <li> Deletes a link - <code>DELETE /api/links/:linkId</code></li> </ul>"},{"location":"roadmap/#me","title":"Me","text":"<ul> <li> Returns the current user - <code>GET /api/me</code></li> <li> Updates the current user's password - <code>POST /api/me/password</code></li> <li> Returns a list of websites for the current user - <code>GET /api/me/websites</code></li> <li> Returns a list of teams for the current user - <code>GET /api/me/teams</code></li> </ul>"},{"location":"roadmap/#pixels","title":"Pixels","text":"<ul> <li> Returns all user pixels - <code>GET /api/pixels</code></li> <li> Gets a pixel by ID - <code>GET /api/pixels/:pixelId</code></li> <li> Updates a pixel - <code>POST /api/pixels/:pixelId</code></li> <li> Deletes a pixel - <code>DELETE /api/pixels/:pixelId</code></li> </ul>"},{"location":"roadmap/#reports","title":"Reports","text":"<ul> <li> Returns a list of all reports - <code>GET /api/reports</code></li> <li> Creates a new report - <code>POST /api/reports</code></li> <li> Returns the details of a specific report - <code>GET /api/reports/:reportId</code></li> <li> Updates the details of a specific report - <code>POST /api/reports/:reportId</code></li> <li> Deletes a report - <code>DELETE /api/reports/:reportId</code></li> <li> Returns a list of websites for a report - <code>GET /api/reports/:reportId/websites</code></li> </ul>"},{"location":"teams/","title":"Teams API","text":"<p>The <code>Teams</code> API provides a set of methods for managing teams in Umami. It allows you to create, retrieve, update, and delete teams, as well as manage team members and their associated websites.</p>"},{"location":"teams/#getting-started","title":"Getting Started","text":"<p>To access the Teams API, you need an instance of the <code>Umami</code> class. You can then call the <code>teams()</code> extension function to get an instance of the <code>Teams</code> class:</p> <pre><code>val umami = Umami(websiteId = \"your_website_id\")\nval teamsApi = umami.teams()\n</code></pre>"},{"location":"teams/#methods","title":"Methods","text":""},{"location":"teams/#findpage-int-null-pagesize-int-null-searchresponseteam","title":"<code>find(page: Int? = null, pageSize: Int? = null): SearchResponse&lt;Team&gt;</code>","text":"<p>Retrieves a paginated list of teams.</p> <ul> <li><code>page</code>: The page number to retrieve.</li> <li><code>pageSize</code>: The number of teams to retrieve per page.</li> </ul>"},{"location":"teams/#createname-string-team","title":"<code>create(name: String): Team</code>","text":"<p>Creates a new team.</p> <ul> <li><code>name</code>: The name of the team.</li> </ul>"},{"location":"teams/#joinaccesscode-string-teammember","title":"<code>join(accessCode: String): TeamMember</code>","text":"<p>Joins a team.</p> <ul> <li><code>accessCode</code>: The access code of the team to join.</li> </ul>"},{"location":"teams/#getteamid-string-team","title":"<code>get(teamId: String): Team</code>","text":"<p>Retrieves a team by its ID.</p> <ul> <li><code>teamId</code>: The ID of the team to retrieve.</li> </ul>"},{"location":"teams/#updateteamid-string-name-string-null-accesscode-string-null-team","title":"<code>update(teamId: String, name: String? = null, accessCode: String? = null): Team</code>","text":"<p>Updates a team.</p> <ul> <li><code>teamId</code>: The ID of the team to update.</li> <li><code>name</code>: The new name of the team.</li> <li><code>accessCode</code>: The new access code of the team.</li> </ul>"},{"location":"teams/#deleteteamid-string","title":"<code>delete(teamId: String)</code>","text":"<p>Deletes a team.</p> <ul> <li><code>teamId</code>: The ID of the team to delete.</li> </ul>"},{"location":"teams/#getusersteamid-string-search-string-null-page-int-null-pagesize-int-null-searchresponseteammember","title":"<code>getUsers(teamId: String, search: String? = null, page: Int? = null, pageSize: Int? = null): SearchResponse&lt;TeamMember&gt;</code>","text":"<p>Retrieves a list of team members.</p> <ul> <li><code>teamId</code>: The ID of the team.</li> <li><code>search</code>: An optional search string to filter users by.</li> <li><code>page</code>: An optional page number for pagination.</li> <li><code>pageSize</code>: An optional number of results per page.</li> </ul>"},{"location":"teams/#adduserteamid-string-userid-string-role-string-teammember","title":"<code>addUser(teamId: String, userId: String, role: String): TeamMember</code>","text":"<p>Adds a user to a team.</p> <ul> <li><code>teamId</code>: The ID of the team.</li> <li><code>userId</code>: The ID of the user to add.</li> <li><code>role</code>: The role of the user in the team.</li> </ul>"},{"location":"teams/#getuserteamid-string-userid-string-teammember","title":"<code>getUser(teamId: String, userId: String): TeamMember</code>","text":"<p>Retrieves a user from a team.</p> <ul> <li><code>teamId</code>: The ID of the team.</li> <li><code>userId</code>: The ID of the user.</li> </ul>"},{"location":"teams/#updateuserroleteamid-string-userid-string-role-string-teammember","title":"<code>updateUserRole(teamId: String, userId: String, role: String): TeamMember</code>","text":"<p>Updates a user's role in a team.</p> <ul> <li><code>teamId</code>: The ID of the team.</li> <li><code>userId</code>: The ID of the user.</li> <li><code>role</code>: The new role of the user.</li> </ul>"},{"location":"teams/#removeuserteamid-string-userid-string","title":"<code>removeUser(teamId: String, userId: String)</code>","text":"<p>Removes a user from a team.</p> <ul> <li><code>teamId</code>: The ID of the team.</li> <li><code>userId</code>: The ID of the user to remove.</li> </ul>"},{"location":"teams/#getwebsitesteamid-string-search-string-null-page-int-null-pagesize-int-null-searchresponsewebsite","title":"<code>getWebsites(teamId: String, search: String? = null, page: Int? = null, pageSize: Int? = null): SearchResponse&lt;Website&gt;</code>","text":"<p>Retrieves the websites of a team.</p> <ul> <li><code>teamId</code>: The ID of the team.</li> <li><code>search</code>: An optional search string to filter websites by.</li> <li><code>page</code>: An optional page number for pagination.</li> <li><code>pageSize</code>: An optional number of results per page.</li> </ul>"},{"location":"umami-object/","title":"The <code>Umami</code> Object","text":"<p>The <code>Umami</code> class is the main entry point for the Umami analytics library. It is responsible for initializing the configuration and managing the event tracking queue.</p>"},{"location":"umami-object/#creating-an-umami-instance","title":"Creating an <code>Umami</code> Instance","text":"<p>To start using the library, you need to create an instance of the <code>Umami</code> class. You can do this by providing your website's unique identifier (ID). The website ID can be passed either as a <code>String</code> or as a <code>kotlin.uuid.Uuid</code> object.</p>"},{"location":"umami-object/#basic-initialization","title":"Basic Initialization","text":"<p>Here are the simplest ways to initialize the <code>Umami</code> object:</p> <pre><code>import dev.appoutlet.umami.Umami\nimport kotlin.uuid.Uuid\n\n// Initialize with a String website ID\nval umamiFromString = Umami(website = \"xxxxxxxx-xxxx-xxxx-xxxx-xxxxxxxxxxxx\")\n\n// Or initialize with a Uuid object\nval websiteId = Uuid.parse(\"xxxxxxxx-xxxx-xxxx-xxxx-xxxxxxxxxxxx\")\nval umamiFromUuid = Umami(website = websiteId)\n</code></pre>"},{"location":"umami-object/#configuring-with-umamioptionsbuilder","title":"Configuring with <code>UmamiOptionsBuilder</code>","text":"<p>The <code>Umami</code> constructor accepts an optional lambda function that allows you to customize its behavior. This is done using the <code>UmamiOptionsBuilder</code>, which provides a DSL (Domain-Specific Language) to configure various settings.</p> <p>Here\u2019s an example of how to configure <code>Umami</code> during initialization:</p> <pre><code>val umami = Umami(website = \"your-website-id\") {\n    // Use builder methods to set custom options\n    baseUrl(\"https://my.umami.instance\")\n    hostname(\"myapp.com\")\n}\n</code></pre> <p>The settings you provide in the builder are used to create an internal <code>UmamiOptions</code> data class, which holds the final configuration for the client.</p>"},{"location":"umami-object/#configuration-options","title":"Configuration Options","text":"<p>The <code>UmamiOptionsBuilder</code> allows you to configure the following parameters:</p>"},{"location":"umami-object/#baseurl","title":"<code>baseUrl</code>","text":"<ul> <li>Description: The base URL of your self-hosted Umami instance's API.</li> <li>Type: <code>String</code></li> <li>Default: <code>\"https://cloud.umami.is\"</code></li> <li>Builder Method: <code>baseUrl(value: String)</code></li> <li>Example:   <pre><code>baseUrl(\"https://analytics.my-domain.com\")\n</code></pre></li> </ul>"},{"location":"umami-object/#hostname","title":"<code>hostname</code>","text":"<ul> <li>Description: The hostname of the website you are tracking (e.g., \"myapp.com\"). This value is sent in the <code>hostname</code> field of the event payload.</li> <li>Type: <code>dev.appoutlet.umami.domain.Hostname</code></li> <li>Default: <code>null</code></li> <li>Configuration:</li> <li>Property: <code>hostname</code></li> <li>Method: <code>hostname(value: String)</code></li> <li>Examples:   <pre><code>import dev.appoutlet.umami.domain.Hostname\n\n// Using the property\nhostname = Hostname(\"myapp.com\")\n\n// Using the method\nhostname(\"myapp.com\")\n</code></pre></li> </ul>"},{"location":"umami-object/#language","title":"<code>language</code>","text":"<ul> <li>Description: The language of the user's browser, specified in IETF language tag format (e.g., \"en-US\", \"fr-FR\").</li> <li>Type: <code>String</code></li> <li>Default: <code>null</code></li> <li>Builder Method: <code>language(value: String)</code></li> <li>Example:   <pre><code>language(\"en-GB\")\n</code></pre></li> </ul>"},{"location":"umami-object/#screensize","title":"<code>screenSize</code>","text":"<ul> <li>Description: The screen resolution of the user's device.</li> <li>Type: <code>String</code> (\"widthxheight\") or two <code>Int</code> values.</li> <li>Default: <code>null</code></li> <li>Builder Methods:</li> <li><code>screenSize(value: String)</code></li> <li><code>screenSize(width: Int, height: Int)</code></li> <li>Examples:   <pre><code>// Using a string\nscreenSize(\"1920x1080\")\n\n// Using width and height\nscreenSize(width = 1366, height = 768)\n</code></pre></li> </ul>"},{"location":"umami-object/#ip","title":"<code>ip</code>","text":"<ul> <li>Description: The IP address of the user.</li> <li>Type: <code>String</code></li> <li>Default: <code>null</code></li> <li>Builder Method: <code>ip(value: String)</code></li> <li>Example:   <pre><code>ip(\"192.168.1.1\")\n</code></pre></li> </ul>"},{"location":"umami-object/#useragent","title":"<code>userAgent</code>","text":"<ul> <li>Description: The user agent string of the client or browser making the request.</li> <li>Type: <code>String</code></li> <li>Default: A generated value based on the platform (e.g., \"umami-kotlin/1.0.0\").</li> <li>Builder Property: <code>userAgent</code></li> <li>Example:   <pre><code>userAgent = \"MyCustomApp/1.0\"\n</code></pre></li> </ul>"},{"location":"umami-object/#eventqueuecapacity","title":"<code>eventQueueCapacity</code>","text":"<ul> <li>Description: The maximum number of tracking events to hold in the in-memory queue before it starts blocking. When the queue is full, new events will wait until there is space.</li> <li>Type: <code>Int</code></li> <li>Default: <code>25</code></li> <li>Builder Property: <code>eventQueueCapacity</code></li> <li>Example:   <pre><code>eventQueueCapacity = 50\n</code></pre></li> </ul>"},{"location":"umami-object/#httpclientengine","title":"<code>httpClientEngine</code>","text":"<ul> <li>Description: The Ktor HTTP client engine used for sending tracking events. You can provide a pre-configured engine if needed.</li> <li>Type: <code>io.ktor.client.engine.HttpClientEngine</code></li> <li>Default: The default Ktor engine for the target platform.</li> <li>Builder Property: <code>httpClientEngine</code></li> <li>Example:   <pre><code>import io.ktor.client.engine.cio.CIO\n\nhttpClientEngine = CIO.create()\n</code></pre></li> </ul>"},{"location":"umami-object/#coroutinescope","title":"<code>coroutineScope</code>","text":"<ul> <li>Description: The coroutine scope used for launching background tasks, such as processing the event queue.</li> <li>Type: <code>kotlinx.coroutines.CoroutineScope</code></li> <li>Default: <code>CoroutineScope(Dispatchers.Default)</code></li> <li>Builder Property: <code>coroutineScope</code></li> <li>Example:   <pre><code>import kotlinx.coroutines.CoroutineScope\nimport kotlinx.coroutines.Dispatchers\n\ncoroutineScope = CoroutineScope(Dispatchers.IO)\n</code></pre></li> </ul>"},{"location":"umami-object/#logger","title":"<code>logger</code>","text":"<ul> <li>Description: The logger instance for logging internal library messages. You can provide a custom implementation of the <code>UmamiLogger</code> interface.</li> <li>Type: <code>dev.appoutlet.umami.util.logger.UmamiLogger</code></li> <li>Default: <code>DefaultUmamiLogger</code>, which uses the Kermit logging library.</li> <li>Builder Property: <code>logger</code></li> <li>Example:   <pre><code>// Assuming you have a custom logger implementation\nlogger = MyCustomLogger()\n</code></pre></li> </ul>"},{"location":"umami-object/#headers","title":"<code>headers</code>","text":"<ul> <li>Description: A map for managing custom HTTP headers to be sent with every tracking request. This is useful for adding authentication tokens or other custom headers.</li> <li>Type: <code>dev.appoutlet.umami.util.headers.SuspendMutableMap&lt;String, String&gt;</code></li> <li>Default: An empty <code>InMemoryHeaders</code> map.</li> <li>Builder Property: <code>headers</code></li> <li>Example:   <pre><code>// You can provide your own implementation or modify the default one\nheaders = MyCustomHeaderProvider()\n</code></pre></li> </ul>"},{"location":"users/","title":"Users API","text":"<p>The <code>Users</code> API provides functionalities for managing users in Umami. It allows you to create, retrieve, update, and delete users, as well as manage their associated websites and teams.</p>"},{"location":"users/#getting-started","title":"Getting Started","text":"<p>To access the Users API, you need an instance of the <code>Umami</code> class. You can then call the <code>users()</code> extension function to get an instance of the <code>Users</code> class:</p> <pre><code>val umami = Umami(website = \"your_website_id\")\nval usersApi = umami.users()\n</code></pre>"},{"location":"users/#methods","title":"Methods","text":""},{"location":"users/#createusername-string-password-string-role-string-id-string-null-user","title":"<code>create(username: String, password: String, role: String, id: String? = null): User</code>","text":"<p>Creates a new user.</p> <ul> <li><code>username</code>: The user's username.</li> <li><code>password</code>: The user's password.</li> <li><code>role</code>: The user's role.</li> <li><code>id</code>: The user's ID (optional).</li> </ul> <p>Example:</p> <pre><code>val user = umami.users().create(\n    username = \"new_user\",\n    password = \"secure_password\",\n    role = \"admin\"\n)\n</code></pre>"},{"location":"users/#getuserid-string-user","title":"<code>get(userId: String): User</code>","text":"<p>Gets a user by ID.</p> <ul> <li><code>userId</code>: The unique identifier of the user.</li> </ul> <p>Example:</p> <pre><code>val user = umami.users().get(userId = \"user-id-123\")\n</code></pre>"},{"location":"users/#updateuserid-string-username-string-null-password-string-null-role-string-null-user","title":"<code>update(userId: String, username: String? = null, password: String? = null, role: String? = null): User</code>","text":"<p>Updates a user.</p> <ul> <li><code>userId</code>: The unique identifier of the user.</li> <li><code>username</code>: The new username.</li> <li><code>password</code>: The new password.</li> <li><code>role</code>: The new role.</li> </ul> <p>Example:</p> <pre><code>val updatedUser = umami.users().update(\n    userId = \"user-id-123\",\n    username = \"updated_username\",\n    role = \"user\"\n)\n</code></pre>"},{"location":"users/#deleteuserid-string","title":"<code>delete(userId: String)</code>","text":"<p>Deletes a user.</p> <ul> <li><code>userId</code>: The unique identifier of the user.</li> </ul> <p>Example:</p> <pre><code>umami.users().delete(userId = \"user-id-123\")\n</code></pre>"},{"location":"users/#getwebsitesuserid-string-includeteams-boolean-false-search-string-null-page-int-null-pagesize-int-null-searchresponsewebsite","title":"<code>getWebsites(userId: String, includeTeams: Boolean = false, search: String? = null, page: Int? = null, pageSize: Int? = null): SearchResponse&lt;Website&gt;</code>","text":"<p>Gets all websites that belong to a user.</p> <ul> <li><code>userId</code>: The unique identifier of the user.</li> <li><code>includeTeams</code>: Set to true if you want to include websites where you are the team owner.</li> <li><code>search</code>: Search text.</li> <li><code>page</code>: The page number to retrieve.</li> <li><code>pageSize</code>: The number of items to return per page.</li> </ul> <p>Example:</p> <pre><code>val response = umami.users().getWebsites(\n    userId = \"user-id-123\",\n    page = 1,\n    pageSize = 10\n)\n\nresponse.data.forEach { website -&gt;\n    println(\"Website: ${website.name}\")\n}\n</code></pre>"},{"location":"users/#getteamsuserid-string-page-int-null-pagesize-int-null-searchresponseteam","title":"<code>getTeams(userId: String, page: Int? = null, pageSize: Int? = null): SearchResponse&lt;Team&gt;</code>","text":"<p>Gets all teams that belong to a user.</p> <ul> <li><code>userId</code>: The unique identifier of the user.</li> <li><code>page</code>: The page number to retrieve.</li> <li><code>pageSize</code>: The number of items to return per page.</li> </ul> <p>Example:</p> <pre><code>val response = umami.users().getTeams(\n    userId = \"user-id-123\",\n    page = 1,\n    pageSize = 10\n)\n\nresponse.data.forEach { team -&gt;\n    println(\"Team: ${team.name}\")\n}\n</code></pre>"},{"location":"websites/","title":"Websites API","text":"<p>The <code>Websites</code> API provides a convenient way to interact with the website-related endpoints of the Umami API.</p> <p>To get started, you can access the <code>Websites</code> API from your <code>Umami</code> instance:</p> <pre><code>val umami = Umami(website = \"your-website-id\")\nval websitesApi = umami.websites()\n</code></pre>"},{"location":"websites/#get-all-websites","title":"Get all websites","text":"<p>You can retrieve a list of all websites available to the user. This method supports pagination and searching.</p> <pre><code>val websites = websitesApi.getWebsites(\n    search = \"example.com\",\n    page = 1,\n    pageSize = 10\n)\n</code></pre>"},{"location":"websites/#get-a-specific-website","title":"Get a specific website","text":"<p>To retrieve a single website by its ID, use the <code>getWebsite</code> method:</p> <pre><code>val websiteId = \"your-website-id\"\nval website = websitesApi.getWebsite(websiteId)\n</code></pre>"},{"location":"websites/#create-a-new-website","title":"Create a new website","text":"<p>You can create a new website by providing a name and domain:</p> <pre><code>val newWebsite = websitesApi.createWebsite(\n    name = \"My New Website\",\n    domain = \"new-website.com\"\n)\n</code></pre>"},{"location":"websites/#update-a-website","title":"Update a website","text":"<p>To update an existing website, you need its ID and the new data:</p> <pre><code>val websiteId = \"your-website-id\"\nval updatedWebsite = websitesApi.updateWebsite(\n    websiteId = websiteId,\n    name = \"My Updated Website Name\"\n)\n</code></pre>"},{"location":"websites/#delete-a-website","title":"Delete a website","text":"<p>You can delete a website by its ID. This operation does not return any data.</p> <pre><code>val websiteId = \"your-website-id\"\nwebsitesApi.deleteWebsite(websiteId)\n</code></pre>"},{"location":"websites/#reset-a-website","title":"Reset a website","text":"<p>To reset all data for a website, use the <code>resetWebsite</code> method. This operation also does not return any data.</p> <pre><code>val websiteId = \"your-website-id\"\nwebsitesApi.resetWebsite(websiteId)\n</code></pre>"},{"location":"getstarted/android/","title":"Setting up Umami Kotlin on Android applications","text":"<p>This guide walks you through installing <code>umami-kotlin</code> in a pure Android (single-platform) project, configuring the client, and tracking your first event.</p> <p>Already using Kotlin Multiplatform?</p> <p>See the KMP Get Started guide instead. This page focuses on a standard Android-only module.</p>"},{"location":"getstarted/android/#1-add-the-dependency","title":"1. Add the Dependency","text":"<p>The library is published on Maven Central:</p> <p></p> <p>Add the dependency to your Android app module <code>build.gradle.kts</code> (or <code>build.gradle</code>). Replace <code>LATEST_VERSION</code> with the version shown in the badge above.</p> Kotlin DSLGroovy DSL app/build.gradle.kts<pre><code>dependencies {\n    implementation(\"dev.appoutlet:umami:LATEST_VERSION\")\n}\n</code></pre> app/build.gradle<pre><code>dependencies {\n    implementation \"dev.appoutlet:umami:LATEST_VERSION\"\n}\n</code></pre>"},{"location":"getstarted/android/#using-a-version-catalog-recommended","title":"Using a Version Catalog (Recommended)","text":"<p>If you manage dependencies with a <code>libs.versions.toml</code> catalog:</p> gradle/libs.versions.toml<pre><code>[versions]\numami = \"LATEST_VERSION\" # Replace with the latest version\n\n[libraries]\numami = { group = \"dev.appoutlet\", name = \"umami\", version.ref = \"umami\" }\n</code></pre> <p>Then in your module build file: app/build.gradle.kts<pre><code>dependencies {\n    implementation(libs.umami)\n}\n</code></pre></p> <p>This keeps upgrades centralized\u2014just bump the <code>umami</code> version in the catalog.</p>"},{"location":"getstarted/android/#2-ensure-internet-permission","title":"2. Ensure Internet Permission","text":"<p>Most apps already have this, but confirm your <code>AndroidManifest.xml</code> includes: <pre><code>&lt;uses-permission android:name=\"android.permission.INTERNET\" /&gt;\n</code></pre></p>"},{"location":"getstarted/android/#3-get-your-website-id","title":"3. Get Your Website ID","text":"<p>From your Umami dashboard:</p> <ol> <li>Open the website you want to track.</li> <li>Copy its Website ID (a UUID).</li> <li>If you self\u2011host Umami, note your base domain (e.g. <code>https://analytics.mycompany.com</code>). If you use Umami Cloud you can omit <code>baseUrl</code> (it defaults internally).</li> </ol>"},{"location":"getstarted/android/#4-create-a-singleton-umami-client","title":"4. Create a Singleton Umami Client","text":"<p>Create the client once and reuse it. A convenient place is a custom <code>Application</code> class or your DI container.</p>"},{"location":"getstarted/android/#simple-application-level-singleton","title":"Simple Application-level Singleton","text":"<p>MyApp.kt<pre><code>class MyApp : Application() {\n    lateinit var umami: Umami\n        private set\n\n    override fun onCreate() {\n        super.onCreate()\n        umami = Umami(\"YOUR-WEBSITE-UUID\") {\n            // baseUrl(\"https://your-self-hosted-instance\") // Only if self-hosting\n        }\n    }\n}\n</code></pre> Register it in <code>AndroidManifest.xml</code>: <pre><code>&lt;application\n    android:name=\".MyApp\"\n    ... &gt;\n&lt;/application&gt;\n</code></pre> Access it anywhere: <pre><code>val umami = (applicationContext as MyApp).umami\n</code></pre></p>"},{"location":"getstarted/android/#using-hilt-optional","title":"Using Hilt (Optional)","text":"<p>AnalyticsModule.kt<pre><code>@Module\n@InstallIn(SingletonComponent::class)\nobject AnalyticsModule {\n    @Provides\n    @Singleton\n    fun provideUmami(): Umami = Umami(\"YOUR-WEBSITE-UUID\") {\n        // baseUrl(\"https://your-self-hosted-instance\")\n    }\n}\n</code></pre> Inject where needed: <pre><code>@AndroidEntryPoint\nclass MainActivity : ComponentActivity() {\n    @Inject lateinit var umami: Umami\n    ...\n}\n</code></pre></p>"},{"location":"getstarted/android/#5-track-your-first-event","title":"5. Track Your First Event","text":"<p>The tracking APIs (<code>event()</code> and <code>identify()</code>) are regular (non-suspend) functions. They enqueue work asynchronously, so it's safe to call them directly on the main thread\u2014no coroutine or background dispatch required.</p>"},{"location":"getstarted/android/#track-a-screen-view-page-view-analogy","title":"Track a Screen View (Page View Analogy)","text":"<pre><code>class MainActivity : ComponentActivity() {\n    @Inject lateinit var umami: Umami\n\n    override fun onCreate(savedInstanceState: Bundle?) {\n        super.onCreate(savedInstanceState)\n        setContent { /* UI */ }\n\n        // Non-blocking call\n        umami.event(url = \"/main\", title = \"Main Screen\")\n    }\n}\n</code></pre>"},{"location":"getstarted/android/#track-a-custom-event","title":"Track a Custom Event","text":"<pre><code>umami.event(\n    name = \"purchase_completed\",\n    data = mapOf(\n        \"plan\" to \"pro\",\n        \"price\" to 49.99\n    )\n)\n</code></pre>"},{"location":"getstarted/android/#identify-a-user-session-enrichment","title":"Identify a User / Session Enrichment","text":"<pre><code>umami.identify(data = mapOf(\"account_type\" to \"pro_user\"))\n</code></pre> <p>Info</p> <p>The calls return immediately; events are placed into an internal queue and processed off the main thread. See detailed parameter explanations on the Event Tracking page.</p>"},{"location":"getstarted/android/#6-optional-configuration","title":"6. Optional Configuration","text":"<p>All optional parameters can be set inside the <code>Umami</code> constructor lambda. For a more detailed explanation of each parameter, see The Umami object documentation.</p> <p>Example with common parameters: <pre><code>import android.content.res.Resources\nimport java.util.Locale\n\nval umami = Umami(\"YOUR-WEBSITE-UUID\") {\n    baseUrl(\"https://analytics.example.com\") // Only for self-hosted\n    language(Locale.getDefault().toLanguageTag())\n    screenSize(\"${Resources.getSystem().displayMetrics.widthPixels}x${Resources.getSystem().displayMetrics.heightPixels}\")\n    eventQueueCapacity = 50\n}\n</code></pre></p>"},{"location":"getstarted/android/#type-safe-constructor","title":"Type-safe constructor","text":"<p>If you already have domain objects (e.g., <code>Uuid</code>, <code>Hostname</code>), you can use the primary constructor for type safety. This is useful if you validate these values elsewhere.</p> <p><pre><code>import dev.appoutlet.umami.Umami\nimport dev.appoutlet.umami.domain.Hostname\nimport dev.appoutlet.umami.domain.Language\nimport dev.appoutlet.umami.domain.ScreenSize\nimport kotlin.uuid.Uuid\n\nval umamiTypeSafe = Umami(Uuid.parse(\"YOUR-WEBSITE-UUID\")) {\n    hostname = Hostname(\"example.com\")\n    language = Language(\"en-US\")\n    screenSize = ScreenSize(1080, 2400)\n    eventQueueCapacity = 50\n}\n</code></pre> Both approaches are functionally equivalent. The string-based constructor just handles parsing for you.</p>"},{"location":"getstarted/android/#7-threading-performance","title":"7. Threading &amp; Performance","text":"<p>Events are queued internally (Kotlin <code>Channel</code>) and processed off the main thread using Ktor. Your UI stays responsive, and you can fire events freely\u2014even during transitions.</p>"},{"location":"getstarted/android/#8-next-steps","title":"8. Next Steps","text":"<ul> <li>Dive deeper into Event Tracking</li> <li>Explore the generated API docs in the Reference section.</li> </ul> <p>You're all set\u2014start capturing meaningful insights from your Android app!</p>"},{"location":"getstarted/kmp/","title":"Track your first event in a Kotlin Multiplatform (KMP) application","text":"<p>This guide is fully focused on adding analytics with <code>umami-kotlin</code> to a shared Kotlin Multiplatform codebase (Android, iOS, Desktop, Web, etc.). You'll add the dependency to <code>commonMain</code>, configure a cross-platform singleton, and track your first events from shared code.</p>"},{"location":"getstarted/kmp/#1-supported-targets","title":"1. Supported targets","text":"<p><code>umami-kotlin</code> is published as a Multiplatform library and can be used from:</p> <ul> <li>Android (JVM / Compose Multiplatform)</li> <li>iOS (via Kotlin/Native; accessible from Swift/Objective-C)</li> <li>Desktop (JVM)</li> <li>JavaScript / WASM (where Ktor HTTP engine is available)</li> <li>Other native targets (Linux, macOS, Windows) as enabled by your KMP setup</li> </ul>"},{"location":"getstarted/kmp/#2-add-the-dependency-commonmain","title":"2. Add the dependency (commonMain)","text":"<p>Add the library to the <code>commonMain</code> source set so all platforms can access it.</p> composeApp/build.gradle.ktsVersion Catalog (libs.versions.toml) <pre><code>kotlin {\n    sourceSets {\n        val commonMain by getting {\n            dependencies {\n                implementation(\"dev.appoutlet:umami:LATEST_VERSION\")\n            }\n        }\n    }\n}\n</code></pre> <p><pre><code>[versions]\numami = \"LATEST_VERSION\" # Replace with latest\n\n[libraries]\numami = { group = \"dev.appoutlet\", name = \"umami\", version.ref = \"umami\" }\n</code></pre> composeApp/build.gradle.kts<pre><code>kotlin {\n    sourceSets {\n        val commonMain by getting {\n            dependencies {\n                implementation(libs.umami)\n            }\n        }\n    }\n}\n</code></pre></p> <p>Note</p> <p>Make sure you refresh/Sync Gradle after adding the dependency so the IDE recognizes the API across all targets.</p>"},{"location":"getstarted/kmp/#3-create-a-shared-analytics-singleton","title":"3. Create a shared analytics singleton","text":"<p>Define a single instance in shared code so every platform uses the same configuration.</p> <pre><code>// shared/src/commonMain/kotlin/analytics/Analytics.kt\npackage analytics\n\nimport dev.appoutlet.umami.Umami\n\nobject AnalyticsService {\n    // Basic factory usage (parses strings internally)\n    val umami: Umami = Umami(\"YOUR-WEBSITE-UUID\") {\n        // baseUrl(\"https://your-self-hosted-instance\") // Only if self-hosting\n    }\n\n    fun trackAppLaunch() = umami.event(url = \"/launch\", title = \"App Launch\")\n}\n</code></pre>"},{"location":"getstarted/kmp/#type-safe-constructor","title":"Type-safe constructor","text":"<p>If you already validate inputs (e.g. UUID, hostname) you can use the primary constructor with domain objects: <pre><code>import dev.appoutlet.umami.Umami\nimport kotlin.uuid.Uuid\n\nval umamiTypeSafe = Umami(Uuid.parse(\"YOUR-WEBSITE-UUID\")) {\n    baseUrl(\"https://analytics.example.com\")\n    hostname(\"example.com\")\n    language(\"en-US\")\n    screenSize(\"1080x1920\")\n    eventQueueCapacity = 50\n}\n</code></pre> Both approaches are functionally equivalent; the string-based constructor just wraps parsing.</p>"},{"location":"getstarted/kmp/#using-koin-dependency-injection","title":"Using Koin (Dependency Injection)","text":"<p>If you prefer DI, define a Koin module in <code>commonMain</code>: <pre><code>// shared/src/commonMain/kotlin/di/AnalyticsModule.kt\npackage di\n\nimport dev.appoutlet.umami.Umami\nimport org.koin.dsl.module\n\nval analyticsModule = module {\n    single { Umami(\"YOUR-WEBSITE-UUID\") }\n}\n</code></pre> Start Koin in each platform's entry point (example Android shown; do similarly for iOS/Desktop): <pre><code>// Android example (e.g. in Application.onCreate)\nstartKoin { modules(analyticsModule) }\n</code></pre> Inject where needed in shared code by implementing <code>KoinComponent</code>: <pre><code>// shared/src/commonMain/kotlin/analytics/AnalyticsFacade.kt\npackage analytics\n\nimport dev.appoutlet.umami.Umami\nimport org.koin.core.component.KoinComponent\nimport org.koin.core.component.inject\n\nobject AnalyticsFacade : KoinComponent {\n    private val umami: Umami by inject()\n    fun trackAppLaunch() = umami.event(url = \"/launch\", title = \"App Launch\")\n}\n</code></pre></p>"},{"location":"getstarted/kmp/#4-track-events-from-shared-code","title":"4. Track events from shared code","text":"<p>The primary tracking functions are regular (non-suspend) and return immediately:</p> <ul> <li><code>event()</code> \u2013 Page views + custom events</li> <li><code>identify()</code> \u2013 Attach metadata to a session (optional)</li> </ul> <pre><code>AnalyticsService.umami.event(url = \"/home\", title = \"Home Screen\")\nAnalyticsService.umami.event(name = \"button_clicked\", data = mapOf(\"id\" to \"save\"))\nAnalyticsService.umami.identify(data = mapOf(\"plan\" to \"pro\"))\n</code></pre> <p>You can wrap these in your own domain API to centralize naming or tagging conventions.</p>"},{"location":"getstarted/kmp/#koin-usage-example","title":"Koin usage example","text":"<p>If using the Koin setup above: <pre><code>// Simple wrapper using injected instance\nobject EventTracker : org.koin.core.component.KoinComponent {\n    private val umami: dev.appoutlet.umami.Umami by inject()\n\n    fun trackHome() = umami.event(url = \"/home\", title = \"Home Screen\")\n    fun trackButton(id: String) = umami.event(name = \"button_clicked\", data = mapOf(\"id\" to id))\n    fun identifyPlan(plan: String) = umami.identify(data = mapOf(\"plan\" to plan))\n}\n\n// Usage\nEventTracker.trackHome()\nEventTracker.trackButton(\"save\")\nEventTracker.identifyPlan(\"pro\")\n</code></pre></p>"},{"location":"getstarted/kmp/#5-asynchronous-processing-model","title":"5. Asynchronous processing model","text":"<p>Calls to <code>event()</code> / <code>identify()</code> enqueue a request into an internal Kotlin <code>Channel</code> (capacity default = 25). A background coroutine (on <code>Dispatchers.Default</code>) processes each item sequentially using Ktor. Your UI / main thread is never blocked.</p> <p>Key points: * If the queue is full, producers suspend until space is available (rare in typical UI usage). * Events are sent in order of invocation.</p> <p>To tune throughput: <pre><code>val umamiCustom = Umami(\"...\") {\n    eventQueueCapacity = 100\n}\n</code></pre></p>"},{"location":"getstarted/kmp/#6-optional-configuration","title":"6. Optional configuration","text":"<p>All optional parameters can be set inside the <code>Umami</code> constructor lambda. For a more detailed explanation of each parameter, see The Umami object documentation. <code>logger</code> | <code>UmamiLogger</code> | Logging backend | Custom logging or disabling logs</p> <p>Example adding language &amp; dynamic screen size (Android + Desktop differences handled via expect/actual): <pre><code>// commonMain\nexpect fun currentScreenSize(): String\nexpect fun currentLanguageTag(): String\n\nval umami = Umami(\"YOUR-WEBSITE-UUID\") {\n    language(currentLanguageTag())\n    screenSize(currentScreenSize())\n}\n</code></pre> <pre><code>// androidMain\nactual fun currentScreenSize(): String = \"1080x2400\"\nactual fun currentLanguageTag(): String = java.util.Locale.getDefault().toLanguageTag()\n</code></pre> <pre><code>// iosMain\nimport platform.UIKit.UIScreen\nimport platform.Foundation.NSLocale\nimport platform.Foundation.currentLocale\n\nactual fun currentScreenSize(): String {\n    val bounds = UIScreen.mainScreen.bounds\n    return \"${'$'}{bounds.size.width.toInt()}x${'$'}{bounds.size.height.toInt()}\"\n}\nactual fun currentLanguageTag(): String = NSLocale.currentLocale.languageCode\n</code></pre></p>"},{"location":"getstarted/kmp/#7-next-steps","title":"7. Next steps","text":"<ul> <li>Explore Event tracking details</li> </ul> <p>You're ready to gather cross-platform usage insights with a single analytics layer.</p>"}]}